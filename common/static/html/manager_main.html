<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="icon" href="http://127.0.0.1:8080/static/image/logo.jpg" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>学习平台</title>
    <link rel="stylesheet" href="/static/js/layui-v2.6.8/css/layui.css">
    <link rel="stylesheet" href="/static/css/config.css">
    <style>
        .component {
            position: absolute;
            width: 200px;
            left: 69%;
            top: 16px;
        }
        .component .layui-input {
            height: 30px;
            padding-left: 32px;
            padding-right: 10px;
            background-color: rgba(255,255,255,.05);
            border: none 0;
            color: #fff !important;
            font-size: 12px;
        }

        .component > .layui-icon {
            position: absolute;
            left: 10px;
            top: 9px;
            font-size: 12px;
            color: #fff !important;
        }
    </style>
</head>
<body>
<div class="layui-layout layui-layout-admin">
    <div id="layui-header" class="layui-header">
        <!--<div class="layui-logo">xiaoben内部学习系统</div>-->
        <div class="layui-logo layui-hide-xs layui-bg-black">xiaoben内部学习系统</div>
        <!-- 头部区域（可配合layui 已有的水平导航） -->
        <!-- 头部菜单开始 -->
        <ul class="layui-nav layui-layout-left" id="topmenu1">
            <!-- 移动端显示 -->
            <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
                <!--<li class="layui-nav-item layui-show-xs-inline-block" lay-header-event="menuLeft">-->
                <i id="spread-left" class="layui-icon layui-icon-spread-left"></i>
            </li>
            <li id="top_1" class="layui-nav-item layui-this"><a href="javascript:void(0);" onclick="topMenu(1)">计算机信息管理</a>
            </li>
            <li id="top_2" class="layui-nav-item"><a href="javascript:void(0);" onclick="topMenu(2)">课程</a></li>
            <li id="top_3" class="layui-nav-item"><a href="javascript:void(0);" onclick="topMenu(3)">我的积分</a></li>
            <li id="top_4" class="layui-nav-item"><a href="javascript:void(0);" onclick="topMenu(4)">最新活动<span
                    class="layui-badge-dot"></span></a></li>
            <li id="top_5" class="layui-nav-item"><a href="javascript:void(0);">主题</a>
                <dl class="layui-nav-child">
                    <dd><a href="javascript:void(0);" onclick="mainTheme('ahei')">暗黑</a></dd>
                    <dd><a href="javascript:void(0);" onclick="mainTheme('cyan')">藏青</a></dd>
                    <dd><a href="javascript:void(0);" onclick="mainTheme('molv')">墨绿</a></dd>
                    <dd><a href="javascript:void(0);" onclick="mainTheme('blue')">艳蓝</a></dd>
                </dl>
            </li>
            <li id="top_7" class="layui-nav-item"><a href="javascript:void(0);" onclick="topMenu('7')">关于我们</a></li>
            <li id="top_8" class="layui-nav-item"><a href="javascript:void(0);">

            </a></li>
        </ul>

        <div class="layui-form layui-hide-xs component">
            <input type="text" autocomplete="off" class="layui-input">
            <i class="layui-icon layui-icon-search"></i>
        </div>

        <!-- 头部菜单结束 -->
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item layui-hide layui-show-md-inline-block">
                <a href="javascript:;">
                    <img id="user_logo"
                         src="//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg"
                         class="layui-nav-img">
                    <span id="user_name">tester</span>
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">个人信息</a></dd>
                    <dd><a href="">设置</a></dd>
                    <dd><a href="">退出登录</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" lay-header-event="menuRight" lay-unselect>
                <a href="javascript:;">
                    <i class="layui-icon layui-icon-more-vertical"></i>
                </a>
            </li>
        </ul>
    </div>
    <!-- 左边菜单开始 -->
    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree" lay-filter="test">
                <li class="layui-nav-item layui-nav-itemed">
                    <a class="" href="javascript:;"><i class="layui-icon layui-icon-template-1"></i> 我的课程</a>
                    <dl id="nav-child" class="layui-nav-child"></dl>
                </li>
            </ul>
        </div>
    </div>
    <!-- 左边菜单结束 -->
    <div class="layui-body">
        <!-- 内容主体区域 -->
        <!--<div style="padding: 15px;">内容主体区域</div>-->
        <iframe width="100%" id="iframe" height="100%" src="" frameborder="0" border="0" marginwidth="0"
                marginheight="0" scrolling="yes" allowtransparency="yes"></iframe>
    </div>

    <div class="layui-footer">
        <!-- 底部固定区域 -->
        <div style="text-align:center;">xiaoben内部学习平台，仅供学习使用，严禁用作其他用途，违者必究！投诉建议请联系：xiaoben.mail@foxmail.com</div>
    </div>
</div>

<script src="/static/js/layui-v2.6.8/layui.js"></script>
<script type="text/javascript" src="/static/js/jquery-2.1.3.js"></script>
<script src="/static/js/config.js" charset="utf-8"></script>
<script>
    //JavaScript代码区域
    layui.use(['layer', 'element', 'form', 'util'], function () {
        let element = layui.element;
        let form = layui.form;
        let layer = layui.layer;
        let util = layui.util;

        //头部事件
        util.event('lay-header-event', {
            //左侧菜单事件
            menuLeft: function (othis) {
                layer.msg('展开左侧菜单的操作', {icon: 0});
            },
            menuRight: function () {
                layer.open({
                    type: 1,
                    title: "系统消息",
                    content: '<div style="padding: 15px;">xiaoben内部学习系统已上线</div>',
                    area: ['260px', '100%'],
                    offset: 'rt', //右上角
                    anim: 2,
                    shadeClose: true,
                });
            }
        });

        //获取主题信息
        window.initTheme = function () {
            let themes = localStorage.getItem("main_theme");
            if (themes != null && themes != undefined) {
                $("#layui-header").addClass(themes)
            }
        }
        initTheme()

        //设置用户个人信息
        window.initUser = function () {
            let image = localStorage.getItem("user_image");
            let name = localStorage.getItem("user_name");
            let account = localStorage.getItem("account");
            if (image == null || image == undefined || image == '') {
                image = "//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg"
            }
            if (name == null || name == undefined || name == '') {
                name = account
            }
            $("#user_logo").attr("src", image)
            $("#user_name").text(name)
        }
        initUser()

        /*//初始化左侧菜单
        window.initLeftMenu = function () {
            let params = '{}'
            let data = sendApi(url_get_sub_list, params, "POST")
            if (data.code == 0) {
                let result = data.data;
                let str = ''
                for (let i = 0; i < result.length; i++) {
                    let index = i + 1
                    if (i == 0) {
                        str += '<dd class="layui-this" id="left_' + index + '"><a href="javascript:void(0);" onclick="leftMenu(' + index + ')">' + result[i].subject_name + '</a></dd>'
                    } else {
                        str += '<dd id="left_' + index + '"><a href="javascript:void(0);" onclick="leftMenu(' + index + ')">' + result[i].subject_name + '</a></dd>'
                    }
                }
                $("#nav-child").html(str)
                element.render()
            }
        }
        initLeftMenu()*/

        window.leftMenu = function (sort) {
        }

        window.mainTheme = function (type) {
            //删除原有的主题
            localStorage.removeItem("main_theme")
            switch (type) {
                case 'cyan':
                    $("#layui-header").removeClass('layui-bg-green')
                    $("#layui-header").removeClass('layui-bg-blue')
                    $("#layui-header").addClass('layui-bg-cyan')
                    localStorage.setItem("main_theme", 'layui-bg-cyan')
                    break
                case 'molv':
                    $("#layui-header").removeClass('layui-bg-cyan')
                    $("#layui-header").removeClass('layui-bg-blue')
                    $("#layui-header").addClass('layui-bg-green')
                    localStorage.setItem("main_theme", 'layui-bg-green')
                    break
                case 'blue':
                    $("#layui-header").removeClass('layui-bg-cyan')
                    $("#layui-header").removeClass('layui-bg-green')
                    $("#layui-header").addClass('layui-bg-blue')
                    localStorage.setItem("main_theme", 'layui-bg-blue')
                    break
                case 'ahei':
                    $("#layui-header").removeClass('layui-bg-cyan')
                    $("#layui-header").removeClass('layui-bg-green')
                    $("#layui-header").removeClass('layui-bg-blue')
                    break
            }
        }
        window.topMenu = function (sort) {
            switch (sort) {
                case 2:
                    document.getElementById("iframe").src = '/all_subject/list.html'
                    break
            }
        }
    });
</script>
</body>
</html>